<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roue des √âmotions - Vision Vibrancy</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <div class="lead-magnet-overlay">
    <h1 class="form-title">D√©couvre ta boussole √©motionnelle</h1>
    <p class="form-subtitle">Remplis ce formulaire pour acc√©der √† la roue interactive</p>
    <form id="emotionForm">
      <div class="form-group">
        <label for="prenom">Pr√©nom</label>
        <input type="text" id="prenom" name="prenom" required>
      </div>
      <div class="form-group">
        <label for="nom">Nom</label>
        <input type="text" id="nom" name="nom" required>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>
      </div>
      <div class="checkbox-group">
        <div class="checkbox-item">
          <input type="checkbox" id="newsletter" name="newsletter" checked>
          <label for="newsletter">Je souhaite recevoir la newsletter <strong>Cr√©atrices en action</strong>.</label>
        </div>
      </div>
      <button type="submit" class="submit-btn">Acc√©der √† la roue</button>
    </form>
    <p class="unlock-message" id="message-validation"></p>
  </div>

  <div class="wheel" id="emotionWheel" style="display:none;">
    <!-- Boutons des √©motions (√† 360¬∞ r√©partis dans la roue) -->
    <!-- Inject√©s dynamiquement via JS selon mode enfant/adulte -->
  </div>

  <button id="toggleMode" style="display:none;">Basculer en mode Enfant</button>

  <div class="guide" id="emotionGuide" style="display:none;">
    <!-- Guide texte inject√© ici -->
  </div>

  <a class="home-button" href="https://visionvibrancy.com">Retourner sur le site Vision Vibrancy</a>

  <script>
    const form = document.getElementById('emotionForm');
    const message = document.getElementById('message-validation');
    const wheel = document.getElementById('emotionWheel');
    const toggleBtn = document.getElementById('toggleMode');
    const guide = document.getElementById('emotionGuide');

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      const data = {
        prenom: form.prenom.value,
        nom: form.nom.value,
        email: form.email.value,
        newsletter: form.newsletter.checked ? "Oui" : "Non"
      };

      fetch("https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec", {
        method: "POST",
        mode: "no-cors",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(data)
      }).then(() => {
        form.style.display = "none";
        message.textContent = "Bienvenue ! Tu peux maintenant explorer la roue ci-dessous.";
        wheel.style.display = "block";
        toggleBtn.style.display = "block";
        guide.style.display = "block";
        initWheel();
      }).catch(() => {
        message.textContent = "Une erreur est survenue. R√©essaie plus tard.";
      });
    });

    const emotionsAdultes = [
      { label: "Joie", guide: "La joie t‚Äôinvite √† savourer l‚Äôinstant pr√©sent‚Ä¶" },
      { label: "Tristesse", guide: "La tristesse t‚Äôinvite √† ralentir, √† te reconnecter‚Ä¶" },
      { label: "Col√®re", guide: "La col√®re r√©v√®le un besoin non respect√©‚Ä¶" },
      { label: "Peur", guide: "La peur prot√®ge mais peut aussi t‚Äôalerter d‚Äôun blocage‚Ä¶" },
      { label: "D√©go√ªt", guide: "Le d√©go√ªt sert √† poser tes limites‚Ä¶" },
      { label: "Surprise", guide: "La surprise ouvre une porte vers le changement‚Ä¶" },
      { label: "Culpabilit√©", guide: "La culpabilit√© montre que tes valeurs ont √©t√© heurt√©es‚Ä¶" },
      { label: "Honte", guide: "La honte parle de ton besoin d‚Äôappartenance‚Ä¶" },
      { label: "Fiert√©", guide: "Sois fi√®re de toi, m√™me pour les petits pas." },
      { label: "S√©r√©nit√©", guide: "Un moment de calme‚Ä¶ Respire et profite." },
      { label: "Amour", guide: "L‚Äôamour relie, nourrit, gu√©rit." },
      { label: "Frustration", guide: "Elle t‚Äôindique une attente non combl√©e." }
    ];

    const emotionsEnfants = [
      { label: "Joie üòä", guide: "Tu te sens bien ! Tu peux dessiner ce que tu ressens." },
      { label: "Tristesse üò¢", guide: "Tu peux pleurer, c‚Äôest normal. Et apr√®s, un c√¢lin ?" },
      { label: "Col√®re üò°", guide: "Tape dans un coussin ou saute ! √áa aide." },
      { label: "Peur üò®", guide: "Demande √† un adulte de rester avec toi." },
      { label: "D√©go√ªt ü§¢", guide: "Tu peux dire ce que tu n‚Äôaimes pas." },
      { label: "Surprise üò≤", guide: "Waouh ! Parle √† quelqu‚Äôun de ce qui t‚Äô√©tonne." },
      { label: "Culpabilit√© üòî", guide: "Tu peux dire pardon si tu veux." },
      { label: "Honte üò≥", guide: "Respire. Tu n‚Äôes pas seul.e." },
      { label: "Fiert√© üòé", guide: "Bravo ! Tu as fait quelque chose de super." },
      { label: "Calme üòå", guide: "Reste tranquille un petit moment." },
      { label: "Amour ‚ù§Ô∏è", guide: "Fais un c√¢lin √† quelqu‚Äôun !" },
      { label: "Frustration üò§", guide: "Explique pourquoi tu n‚Äôes pas content.e." }
    ];

    let modeEnfant = false;

    function initWheel() {
      const data = modeEnfant ? emotionsEnfants : emotionsAdultes;
      wheel.innerHTML = "";
      const angle = 360 / data.length;

      data.forEach((emo, i) => {
        const btn = document.createElement("button");
        btn.className = "emotion-button";
        btn.textContent = emo.label;
        const rotation = angle * i;
        btn.style.transform = `translate(-50%, -50%) rotate(${rotation}deg) translateY(-10em) rotate(-${rotation}deg)`;
        btn.onclick = () => guide.textContent = emo.guide;
        wheel.appendChild(btn);
      });
    }

    toggleBtn.onclick = () => {
      modeEnfant = !modeEnfant;
      toggleBtn.textContent = modeEnfant ? "Basculer en mode Adulte" : "Basculer en mode Enfant";
      initWheel();
      guide.textContent = "";
    };
  </script>
</body>
</html>
